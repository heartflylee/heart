function filterList(e){$("#searchCustomer").change(function(){return filter=$(this).val(),console.log(filter),""!=filter?($matches=$(e).find("a:Contains("+filter+")").parent(),console.log($matches),$(".head-li",e).not($matches).slideUp(),$matches.slideDown()):$(e).find(".head-li").slideDown(),!1}).keyup(function(){$(this).change()})}function dateShow(){if(""==$("#startTime").val()||""==$("#endTime").val())return!1;$(".date-select").removeClass("selected"),$("#select-time").text($("#startTime").val()+"-"+$("#endTime").val()),$(".index-select").removeClass("active")}function lineBtn(e){var t=$("#lineChartBtn").find(".charts-btn:eq("+e+")"),a=$("#count-list").find(".count-list:eq("+e+")");if(t.hasClass("active"))return!1;$("#lineChartBtn").find(".charts-btn").removeClass("active"),t.addClass("active"),$("#count-list").find(".count-list").removeClass("active"),a.addClass("active"),optionLine.xAxis[0].data=dataLineX,optionLine.series[0].name=dataLine[e].name,optionLine.series[0].data=dataLine[e].data,chartsLine.clear(),chartsLine.setOption(optionLine)}function barBtn(e){var t=$("#barChartBtn").find(".charts-btn:eq("+e+")");t.hasClass("active")?t.removeClass("active"):t.addClass("active");var a=$("#barChartBtn").find(".active");if(chartBarData=[],a.length>0){for(var n=0;n<a.length;n++)chartBarData[n]=dataBar[a[n]["data-chart"]||a[n].dataset.chart];optionBar.xAxis[0].data=chartBarX,optionBar.series=chartBarData,chartsBar.clear(),chartsBar.setOption(optionBar)}else chartsBar.clear()}var filter;jQuery.expr[":"].Contains=function(e){return console.log(e),(e.textContent||e.innerText||"").toUpperCase().indexOf(filter.toUpperCase())>=0},$(function(){filterList($(".head-list"))});var selection;$(function(){$(".date-select").click(function(){if($(this).hasClass("selected"))return!1;$(".date-select").removeClass("selected"),$(this).addClass("selected"),$("#select-time").text($(this).text()),$(".index-select").removeClass("active"),$("#startTime").val(""),$("#endTime").val(""),$("#datetime").jqxCalendar("setRange",new Date,new Date)});var e=$("#datetime");e.jqxCalendar({width:220,height:220,selectionMode:"range",culture:"ch-CN"}),e.jqxCalendar({firstDayOfWeek:1}),e.jqxCalendar("setMaxDate",new Date),e.on("change",function(e){console.log(e),selection=e.args.range,$("#startTime").val(selection.from.toLocaleDateString()),$("#endTime").val(selection.to.toLocaleDateString())})});var dataIntention={name:"2017-02-22",data:[{value:335,name:"有意向"},{value:310,name:"无意向"}]},dataResult={name:"2017-02-22",data:[{value:335,name:"加微信"},{value:310,name:"打电话"},{value:310,name:"发短信"},{value:310,name:"发邮件"}]},dataProgress={name:"2017-02-22",data:[{value:335,name:"初步沟通"},{value:310,name:"确认需求"},{value:310,name:"报价"},{value:310,name:"面谈"},{value:310,name:"成单"}]},optionIntention,optionResult,optionProgress;optionIntention=optionResult=optionProgress={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"",type:"pie",radius:["50%","70%"],itemStyle:{normal:{label:{show:!1},labelLine:{show:!1}},emphasis:{label:{show:!0,position:"center",textStyle:{fontSize:"18",fontWeight:"bold"}}}},data:[]}]};var chartsIntention=echarts.init(document.getElementById("charts-intention"));chartsIntention.setTheme(theme),optionIntention.series[0].name=dataIntention.name,optionIntention.series[0].data=dataIntention.data,chartsIntention.setOption(optionIntention);var chartsResult=echarts.init(document.getElementById("charts-result"));chartsResult.setTheme(theme),optionResult.series[0].name=dataResult.name,optionResult.series[0].data=dataResult.data,chartsResult.setOption(optionResult);var chartsProgress=echarts.init(document.getElementById("charts-progress"));chartsProgress.setTheme(theme),optionProgress.series[0].name=dataProgress.name,optionProgress.series[0].data=dataProgress.data,chartsProgress.setOption(optionProgress);var dataLine=[{name:"客户增长量",data:[6,8,6,8,6,8,4]},{name:"任务增长量",data:[6,9,3,8,6,2,4]},{name:"任务完成增长量",data:[3,5,6,9,2,4,2]}],dataLineX=["2017-02-15","2017-02-16","2017-02-17","2017-02-18","2017-02-19","2017-02-20","2017-02-21"],optionLine,chartsLine;$(function(){optionLine={tooltip:{trigger:"item",formatter:"{b} <br/>{a} : {c}"},xAxis:[{type:"category",splitLine:{show:!0},data:[]}],yAxis:[],series:[{name:"",type:"line",data:[]}]},chartsLine=echarts.init(document.getElementById("charts-line")),chartsLine.setTheme(theme),optionLine.xAxis[0].data=dataLineX,optionLine.series[0].name=dataLine[0].name,optionLine.series[0].data=dataLine[0].data,chartsLine.setOption(optionLine)});var optionBar,chartsBar,chartBarX=["2017-02-15","2017-02-16","2017-02-17","2017-02-18","2017-02-19","2017-02-20","2017-02-21","2017-02-22"],dataBarValue=[{data:[2,5,10,23,15,16,20,16]},{data:[3,6,9,16,18,10,15,18]},{data:[2,50,14,30,75,60,90,70]}],dataBar=[{name:"坐席电话量",type:"bar",yAxisIndex:0,barMaxWidth:40,itemStyle:{normal:{color:"#2ec7c9"}},data:dataBarValue[0].data},{name:"联系客户数",type:"bar",yAxisIndex:0,barMaxWidth:40,itemStyle:{normal:{color:"#ffb980"}},data:dataBarValue[1].data},{name:"通话时长",type:"bar",yAxisIndex:1,barMaxWidth:40,itemStyle:{normal:{color:"#d87a80"}},data:dataBarValue[2].data}];$(function(){optionBar={tooltip:{trigger:"axis"},toolbox:{show:!0},legend:{show:!1,data:[]},xAxis:[{type:"category",data:[]}],yAxis:[{type:"value",splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},axisLabel:{formatter:"{value}"}},{type:"value",splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},axisLabel:{formatter:"{value} s"}}],series:[]},chartsBar=echarts.init(document.getElementById("charts-bar")),optionBar.xAxis[0].data=chartBarX,optionBar.series.push(dataBar[0]),chartsBar.setTheme(theme),chartsBar.setOption(optionBar)});var chartBarData;window.onresize=function(){chartsLine.resize(),chartsBar.resize()};