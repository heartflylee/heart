<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title></title>
		<link rel="stylesheet" href="css/jqxgrid.css" />
		<link rel="stylesheet" href="css/reset.css" />
		<link rel="stylesheet" href="css/style.css" />

		<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>

		<script type="text/javascript" src="js/head.js"></script>
		<script type="text/javascript" src="js/jquery.select.js"></script>
		<link rel="stylesheet" href="css/hDate.css" />
		<script type="text/javascript" src="js/hDate.js"></script>

		<script type="text/javascript" src="js/jqwidgets/jqxcore.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxdata.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxbuttons.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxscrollbar.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxmenu.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxlistbox.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxdropdownlist.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxgrid.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxgrid.selection.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxgrid.columnsresize.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxgrid.sort.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxgrid.edit.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxgrid.pager.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxnumberinput.js"></script>
		<script type="text/javascript" src="js/jqwidgets/globalization/globalize.js"></script>
		<script type="text/javascript" src="js/jqwidgets/jqxcheckbox.js"></script>

		<!--[if lt IE 10]>
	    <script type="text/javascript" src="js/html5shiv.js"></script>
	    <script type="text/javascript" src="js/respond.min.js"></script>
	    <script type="text/javascript" src="js/placeholder.js" ></script>
	    <![endif]-->

		<script type="text/javascript">
			$(document).ready(function() {
				var data = new Array();
				var id = [
					"1", "2"
				];
				var name = [
					"刘", "王", "刘"
				];
				var state = [
					"跟进", "未跟进"
				];
				var telephone = [
					"13601129728", "13211111111", "13311111111"
				];
				var major = [
					"经理", "总经理", "销售经理"
				];
				var company = [
					"北京科技有限公司"
				];
				var address = [
					"北京朝阳区"
				];
				for(var i = 0; i < 200; i++) {
					var row = {};
					row["id"] = i;
					row["name"] = name[Math.floor(Math.random() * name.length)];
					row["state"] = state[Math.floor(Math.random() * state.length)];
					row["telephone"] = telephone[Math.floor(Math.random() * telephone.length)];
					row["major"] = major[Math.floor(Math.random() * major.length)];
					row["company"] = company[Math.floor(Math.random() * company.length)];
					row["address"] = address[Math.floor(Math.random() * address.length)];
					data[i] = row;
				}
				console.log(data);

				var source = {
					localdata: data,
					datafields: [{
						name: 'id',
						type: 'string'
					}, {
						name: 'name',
						type: 'string'
					}, {
						name: 'state',
						type: 'string'
					}, {
						name: 'telephone',
						type: 'string'
					}, {
						name: 'major',
						type: 'string'
					}, {
						name: 'company',
						type: 'string'
					}, {
						name: 'address',
						type: 'string'
					}],
					datatype: "array"
				};

				var dataAdapter = new $.jqx.dataAdapter(source);
				console.log(dataAdapter);
				$("#jqxgrid").jqxGrid({
					width: '100%',
					height: '100%',
					source: dataAdapter,
					columnsresize: true,
					filterable: false, //可筛选
					pageable: true, //分页
					pagermode: "simple", //分页类型 default   simple
					pagesize: 30, //每页显示行数
					scrollbarsize: 7, //设置滚动条大小
					editable: true, //可编辑
					sortable: true, //可排序
					enabletooltips: true,
					rowsheight: 40, //行高
					pagerheight: 50,
					enablehover: true, //悬停样式
					enableanimations: false,
					enablebrowserselection: true,
					statusbarheight: 40,
					showemptyrow: false,
					altrows: true, //交替行，单数行和双数行不同
					showsortmenuitems: false,
					selectionmode: "checkbox",
					cellhover: function(tableCell, x, y) {}, //单元格悬停样式
					handlekeyboardnavigation: function(event) {}, //该函数被调用时按下某个键。如果该函数的结果为true时，默认将被替代的导航键盘的按键。
					columns: [{
						pinned: true,
						text: '姓名',
						dataField: 'name',
						cellsrenderer: function(row, column, value) {
							return '<a class="jqx-name"><span>' + value + '</span></a>';
						},
						width: 100,
						columntype: 'dropdownlist'
					}, {
						pinned: true,
						text: '跟进状态',
						dataField: 'state',
						cellsrenderer: function(row, column, value) {
							var table_state = value == "跟进" ? "active" : " ";
							return '<div class="state-f"><span class="state ' + table_state + '">' + value + '</span></div>';
						},
						width: 100,
						editable: false
					}, {
						text: '手机号码',
						dataField: 'telephone',
						width: 180
					}, {
						text: '职位',
						dataField: 'major',
						width: 80,
					}, {
						text: '公司名称',
						dataField: 'company',
						width: 90,
						cellsrenderer: function(row, column, value) {
							var qixin = row % 2 == 1 ? "qixin" : "";
							return '<i class="icon ' + qixin + '"></i><div class="jqx-grid-cell-left-align">' + value + '</div>';
						},
					}, {
						text: '公司地址',
						dataField: 'address',
						minwidth: 100
					}, {
						text: '操作',
						dataField: '',
						cellsrenderer: function(row, column, value) {
							return '<div class="href-f"><a class="href">新建行动</a><a class="href">拨打电话</a></div>';
						},
						minwidth: 100,
						editable: false

					}]
				});
				//单元格的点击
				$('#jqxgrid').on('cellclick', function(event) {
					console.log(event);
					console.log("单元格单击");
					console.log("A cell has been clicked:" + event.args.rowindex + ":" + event.args.datafield);
				});
				$("#jqxgrid").bind("celldoubleclick", function(event) {
					console.log(event);
					console.log("双击")
				});
				// events
				$("#jqxgrid").on('cellbeginedit', function(event) {
					var args = event.args;

					$("#cellbegineditevent").text("Event Type: cellbeginedit, Column: " + args.datafield + ", Row: " + (1 + args.rowindex) + ", Value: " + args.value);
				});

				//这个事件被触发时，单元的编辑操作是否结束。
				$("#jqxgrid").on('cellendedit', function(event) {
					var args = event.args;
					console.log(args);
					console.log("保存");
					console.log("Event Type: cellendedit, Column: " + args.datafield + ", Row: " + (1 + args.rowindex) + ", Value: " + args.value);
				});

			});
		</script>
	</head>

	<body>
		<!--[if lt IE 9]>
		<div class="tipLowIEVer" id="tipLowIEVer">
		    <h4>系统检测到您使用的浏览器版本过低，为达到更好的体验效果请升级您的浏览器，我们为您推荐：</h4>
		    <p>
		        <a href="https://www.google.com.hk/chrome/" target="_blank">Chrome浏览器</a>
		        <a href="http://www.firefox.com.cn/download/" target="_blank">Firefox浏览器</a>
		        <a href="http://se.360.cn/" target="_blank">360浏览器</a>
		        <a href="http://www.liebao.cn/" target="_blank">猎豹浏览器</a>
		    </p>
		</div>	
		<![endif]-->
		<header class="header">
			<div class="head-l">
				<a href="" class="logo-f"><i class="logo"></i></a>
				<b>|</b>
				<label>个人版</label>
			</div>
			<div class="head-r">
				<div class="head">
					<div class="head-img" id="head" style="background-image: url(img/head.jpg);"></div>
					<nav></nav>
					<div class="head-nav" id="head-nav">
						<div class="code-f">
							<img src="img/code.jpg" />
							<label>下载APP</label>
						</div>
						<ul>
							<li class="nav-li">
								<i class="nav1"></i>
								<div class="nav-name">下载软电话</div>
							</li>
							<li class="nav-li">
								<i class="nav2"></i>
								<div class="nav-name">消息</div>
							</li>
							<li class="nav-li">
								<i class="nav3"></i>
								<div class="nav-name">设置</div>
							</li>
							<li class="nav-li">
								<i class="nav4"></i>
								<div class="nav-name">退出登录</div>
							</li>
						</ul>
					</div>
				</div>
			</div>
			<div class="head-content">
				<ul>
					<li class="current">
						<a>管客户</a>
					</li>
					<li>
						<a>找客户</a>
					</li>
					<li>
						<a>行动</a>
					</li>
					<li id="settings">
						<a>统计</a>
					</li>
				</ul>
			</div>
		</header>
		<div class="box-tab">
			<div class="box-tab-center">
				<ul>
					<li class="box-tab-nav" onclick="newenjoy('screen-layer');">
						<label>筛选</label><i class="down-i"></i>
					</li>
					<li class="box-tab-nav">
						<label>自定义表头</label>
					</li>
					<li class="box-tab-nav">
						<label>导入客户</label>
					</li>
					<li class="box-tab-nav">
						<label>已下载线索</label><span>(20)</span>
					</li>
				</ul>
				<div class="search">
					<div class="search-f">
						<form action="">
							<div class="search-btn">
								<input type="submit" class="search-submit" value=" " />
							</div>
							<div class="search-input">
								<input type="text" class="input" placeholder="请输入姓名、公司、手机号等相关信息" />
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="layer screen-layer" id="screen-layer">
			<div class="layer-bg box-screening">
				<div class="screening-f">
					<div class="screening">
						<form action="">
							<div class="screening-box-ul time-box">
								<div class="time-box-li box-li">
									<label class="box-name">创建时间</label>
									<div class="box-con">
										<div class="time-f">
											<input type="text" class="time" id="timetext" />
										</div>
										<label>至</label>
										<div class="time-f">
											<input type="text" class="time" id="timetext2" />
										</div>
									</div>
								</div>
								<div class="time-box-li box-li">
									<label class="box-name">创建时间</label>
									<div class="box-con">
										<div class="time-f">
											<input type="text" class="time" id="timetext3" />
										</div>
										<label>至</label>
										<div class="time-f">
											<input type="text" class="time" id="timetext4" />
										</div>
									</div>
								</div>
								<script type="text/javascript">
									var minday_1;
									var maxday_1;
									var minday_2;
									var maxday_2;
									$("#timetext").click(function(e) {
										maxday_1 = $("#timetext2").val();
										if(maxday_1 == "") {
											maxday_1 = (new Date()).toString("yyyy-MM-dd");
										}
										var ths = this;
										calendar.show({
											id: this,
											maxDay: maxday_1.toString("yyyy-MM-dd")
										});
									});
									$("#timetext2").click(function(e) {
										minday_1 = $("#timetext").val();
										var ths = this;
										calendar.show({
											id: this,
											maxDay: (new Date()).toString("yyyy-MM-dd"),
											minDay: minday_1.toString("yyyy-MM-dd")
										});
									});
									$("#timetext3").click(function(e) {
										maxday_2 = $("#timetext4").val();
										if(maxday_2 == "") {
											maxday_2 = (new Date()).toString("yyyy-MM-dd");
										}
										var ths = this;
										calendar.show({
											id: this,
											maxDay: maxday_2.toString("yyyy-MM-dd")
										});
									});
									$("#timetext4").click(function(e) {
										minday_2 = $("#timetext3").val();
										var ths = this;
										calendar.show({
											id: this,
											maxDay: (new Date()).toString("yyyy-MM-dd"),
											minDay: minday_2.toString("yyyy-MM-dd")
										});
									});
								</script>
							</div>
							<div class="screening-box-ul">
								<div class="box-li">
									<label class="box-name">销售进度</label>
									<div class="box-con">
										<div class="select-box">
											<select name="" id="" class="select">
												<option>请选择销售进度</option>
												<option>初步接洽</option>
												<option>确认需求</option>
												<option>确认报价</option>
												<option>拟定合同</option>
												<option>成单</option>
											</select>
										</div>
									</div>
								</div>
								<div class="box-li">
									<label class="box-name">数据来源</label>
									<div class="box-con">
										<div class="select-box">
											<select name="" id="" class="select">
												<option>请选择数据来源</option>
												<option>初步接洽</option>
												<option>确认需求</option>
												<option>确认报价</option>
												<option>拟定合同</option>
												<option>成单</option>
											</select>
										</div>
									</div>
								</div>
								<div class="box-li">
									<label class="box-name">跟进状态</label>
									<div class="box-con">
										<div class="select-box">
											<select name="" id="" class="select">
												<option>请选择跟进状态</option>
												<option>初步接洽</option>
												<option>确认需求</option>
												<option>确认报价</option>
												<option>拟定合同</option>
												<option>成单</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<div class="screening-box-ul">
								<div class="box-li">
									<label class="box-name">电话结果</label>
									<div class="box-con">
										<div class="select-box">
											<select name="" id="" class="select">
												<option>请选择电话结果</option>
												<option>初步接洽</option>
												<option>确认需求</option>
												<option>确认报价</option>
												<option>拟定合同</option>
												<option>成单</option>
											</select>
										</div>
									</div>
								</div>
								<div class="box-li">
									<label class="box-name">短信状态</label>
									<div class="box-con">
										<div class="select-box">
											<select name="" id="" class="select">
												<option>请选择短信状态</option>
												<option>初步接洽</option>
												<option>确认需求</option>
												<option>确认报价</option>
												<option>拟定合同</option>
												<option>成单</option>
											</select>
										</div>
									</div>
								</div>
								<div class="box-li">
									<label class="box-name">邮件状态</label>
									<div class="box-con">
										<div class="select-box">
											<select name="" id="" class="select">
												<option>请选择邮件状态</option>
												<option>初步接洽</option>
												<option>确认需求</option>
												<option>确认报价</option>
												<option>拟定合同</option>
												<option>成单</option>
											</select>
										</div>
									</div>
								</div>
							</div>
							<div class="btn-f">
								<input type="submit" onclick="screenbtn();" class="btn" value="筛选结果" />
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<article class="content">
			<div class="content-head">
				<div class="content-head-l">
					<i></i>
					<div class="content-t">
						客户列表
					</div>
				</div>
				<div class="content-head-r">
					<ul class="content-tab">
						<li class="tab-f">
							<i class="export"></i>
							<label>导出</label>
						</li>
						<li class="tab-f" id="nav">
							<i class="delete"></i>
							<label>删除</label>
						</li>
						<li class="tab-f">
							<i class="add"></i>
							<label>新建客户</label>
						</li>
					</ul>
					<div class="head-btn-f">
						<button class="head-btn" onclick="newenjoy('message-layer');">发短信</button>
						<button class="head-btn" onclick="newenjoy('mail-layer');">发邮件</button>
					</div>
				</div>
			</div>
			<div class="table">
				<div id='jqxWidget' class="jqxWidget">
					<div id="jqxgrid"></div>
				</div>
			</div>
		</article>
		<section class="layer" id="message-layer">
			<div class="layer-bg">
				<div class="layer-content">
					<div class="layer-t">
						<label class="layer-title">
								发送短信
						</label>
						<a class="icon close" href="javascript:;"></a>
					</div>
					<div class="layer-box">
						<div class="layer-row">
							<select name="" id="" class="select select-row">
								<option>请选择短信模板</option>
								<option>短信模板1</option>
								<option>短信模板2</option>
								<option>短信模板3</option>
							</select>
						</div>
						<div class="layer-row">
							<div class="textarea">

							</div>
						</div>
						<div class="layer-tip-row">
							*您已选择1000条线索，短信费0.08元/条，共计80元
						</div>
						<div class="btn-f">
							<input type="button" class="btn" value="提交" onclick="newenjoy('message-error');" />
						</div>
					</div>
				</div>
			</div>
		</section>
		<section class="layer" id="message-error">
			<div class="layer-bg">
				<div class="layer-content">
					<div class="layer-t">
						<label class="layer-title">
								发送失败
						</label>
						<a class="icon close" href="javascript:;"></a>
					</div>
					<div class="layer-box">
						<div class="layer-alert">
							账户余额不足，请充值后发送
						</div>
						<div class="btn-f">
							<input type="button" class="btn" value="前往充值" />
							<input type="button" class="btn cancle" value="取消发送" />
						</div>
					</div>
				</div>
			</div>
		</section>
		<section class="layer" id="mail-layer">
			<div class="layer-bg">
				<div class="layer-content">
					<div class="layer-t">
						<label class="layer-title">
								发送邮件
						</label>
						<a class="icon close" href="javascript:;"></a>
					</div>
					<div class="layer-box">
						<div class="layer-row">
							<select name="" id="" class="select select-row">
								<option>请选择邮件模板</option>
								<option>邮件模板1</option>
								<option>邮件模板2</option>
								<option>邮件模板3</option>
							</select>
						</div>
						<div class="layer-row">
							<input type="text" placeholder="请输入邮件标题" />
						</div>
						<div class="btn-f">
							<input type="button" class="btn" value="提交" />
						</div>
					</div>
				</div>
			</div>
		</section>
		<script type="text/javascript" src="js/common.js"></script>
		<script type="text/javascript">
			//筛选结果
			function screenbtn() {
				$(".screen-layer").toggleClass("active");
			}
		</script>
	</body>

</html>
